## Kalman Filter

### 1. 칼만 필터란?
노이즈가 포함된 선형시스템에서 과거와 현재의 값을 기준으로 재귀적 연산을 통하여 최적의 값을 추적하는 필터

쉽게 말하면, 측정데이터나 신호에는 잡음이 포함되어있는데 이 데이터에서 원하는 정보를 추출해낼 수 있는 필터 

### 2. 칼만 필터 원리
    1) 초기값 선정(X_k-1, P_k-1)
    2) X(현재 상태),P(오차 공분산)을 예측한다.
    3) 칼만 게인값 K를 계산한다.
    4) 센서값(실제 측정값)과 칼만 게인을 바탕으로 X,P를 update한다.
    5) 위 과정(예측->실제 값과 비교->update)을 반복한다.

### 3. 수식 이해


![image](https://user-images.githubusercontent.com/76464662/182289284-b4073338-7f07-4d9d-b6fa-0caca103ccce.png)

A : 변수 x 간 물리적 관계를 나타내는 행렬

H : 센서로 측정할 값을 나타내는 행렬(ex. 위치 또는 속도)

Q : 상태 공간 방정식으로 나타낸 시스템의 노이즈

R : 센서값의 노이즈

K : 칼만 이득으로, 최종 추종값을 계산할 때 센서의 비중을 결정하는 정도

*K 의미
Measurement Update (2) 수식을 정리하면 x_k = (1-KH)*x^_k + K*z_k 

최종 추종값을 계산할 때, 추정값에 무게를 더 둘지 센서값에 비중을 둘지를 결정하는 정도

ex) 센서 노이즈 R이 큼 -> 칼만 게인 K 감소 -> 센서 비중 감소(추정값 비중 증가)


### 4. 특징
* 동적 시스템에서 정보가 불확실한 상황에서 사용가능하며 정확한 값 추측 가능
* 센서 노이즈 제거에 좋은 성능을 보임
* 계속해서 변화하는 시스템에 이상적임 -> 이전 상태만을 기록하기에 메모리 문제x
* 큰 메모리 불필요, 연산 속도 빠름 -> 임베디드 시스템에 적합
* 칼만 필터는 선형 시스템에만 적용가능 -> 비선형 시스템에 적용하기 위해 고안된 EKF

*EKF idea: 함수를 모든 순간 미분해서 선형적인 특성을 이용 

